<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Custom Speech Synthesizer | Foxit PDF SDK For Web - V8.4.0</title>
    <meta name="generator" content="VuePress 1.8.2">
    <script src="/docs/developer-guide/resetHref.js"></script>
    <link rel="icon" href="/docs/developer-guide/favicon.ico">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800">
    <meta name="description" content="Foxit PDF SDK For Web development guide">
    
    <link rel="preload" href="/docs/developer-guide/assets/css/0.styles.cb6848e9.css" as="style"><link rel="preload" href="/docs/developer-guide/assets/js/app.e7182497.js" as="script"><link rel="preload" href="/docs/developer-guide/assets/js/2.14e0b4fd.js" as="script"><link rel="preload" href="/docs/developer-guide/assets/js/24.bf6a54c3.js" as="script"><link rel="prefetch" href="/docs/developer-guide/assets/js/10.09f62d98.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/100.9c1f50c4.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/101.347e536e.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/102.ac05460c.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/103.419cc7b7.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/104.1ff587bf.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/105.26dbaff0.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/106.262203ad.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/107.2e3fde18.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/108.48224f63.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/109.a54934b3.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/11.ea31a896.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/110.d13e4d26.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/111.42d0b232.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/112.8c6a5af0.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/113.0e000629.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/114.a546e1a4.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/115.71e5fa01.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/116.73b353bf.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/117.a902d336.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/118.c4d897fb.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/119.026e3d55.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/12.352e6a34.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/120.f5ea7fef.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/121.5a309efe.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/122.fc8f421b.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/123.b48d0cde.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/124.58ed393b.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/125.b45bca58.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/126.9bfbf384.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/127.47201642.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/128.d51164ee.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/129.0e5b4bfb.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/13.d3835fe7.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/130.44384bfe.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/131.a7e8577c.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/132.6714a512.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/133.810b2876.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/134.45d98fa7.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/135.9281f3b5.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/136.6f440bb7.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/137.bdcb772e.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/138.47bf8602.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/139.62416ced.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/14.ca0480b6.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/15.627c299e.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/16.d5fe115a.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/17.35f44f90.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/18.ee502251.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/19.cdb07f56.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/20.9dd53eed.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/21.40c1737f.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/22.d5df31a9.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/23.ce0fe2cb.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/25.4ac82fba.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/26.0e397975.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/27.b50a1c41.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/28.74daadfa.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/29.932953b8.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/3.0d11c8fc.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/30.4403fd4f.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/31.25242c43.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/32.540f373c.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/33.b66f769c.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/34.2370823c.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/35.3e8c8aef.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/36.c570ebd3.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/37.973fd57b.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/38.e53f34a6.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/39.ee12a5af.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/4.cedf6385.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/40.bdad8579.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/41.4a1ef161.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/42.5cea54cd.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/43.92013acf.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/44.1a3c3187.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/45.56e6da30.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/46.dc74b279.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/47.892fd1b9.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/48.45f92fac.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/49.d9ff6b9f.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/5.336890e3.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/50.47d0c5a3.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/51.c63a01ee.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/52.98b2e6bb.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/53.4feb2551.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/54.c24f553a.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/55.fcd89382.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/56.9d0d0ebf.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/57.d701e3d0.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/58.ebd9b760.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/59.93876dc4.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/6.cde7f904.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/60.a75a1e25.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/61.0a5f272a.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/62.1100ff49.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/63.f4ea199f.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/64.bcb641bb.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/65.4d082b88.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/66.bd578b32.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/67.0a43e3f3.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/68.2acc901b.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/69.96dcd7d8.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/7.04052109.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/70.91099664.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/71.3af10af8.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/72.e925d0d6.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/73.d3416e5d.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/74.e23c0a97.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/75.c9adfe33.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/76.bcb572b1.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/77.5f384bbd.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/78.ced43822.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/79.42a90e93.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/8.477fa936.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/80.8a1772ca.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/81.0fc49e32.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/82.ff1234e4.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/83.e71961db.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/84.67dd8cd8.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/85.c154136e.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/86.a6944039.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/87.8117b2ce.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/88.96d5409e.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/89.0a7a6971.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/9.78dd6345.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/90.dfeed198.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/91.81228566.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/92.31e1bc5e.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/93.f8ba60dc.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/94.85a886dd.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/95.3163f8e3.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/96.77e8fc2f.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/97.391f468f.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/98.97140a79.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/99.0b87ac81.js">
    <link rel="stylesheet" href="/docs/developer-guide/assets/css/0.styles.cb6848e9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/developer-guide/" class="home-link router-link-active"><!----> <span class="site-name">Foxit PDF SDK For Web - V8.4.0</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/API_Reference/FoxitPDFSDK_API_Reference.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  API Reference
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/docs/developer-guide/ui-extension/" class="nav-link">
  UIExtension
</a></div><div class="nav-item"><a href="/docs/developer-guide/technical-support/" class="nav-link">
  Technical Support
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="More" class="dropdown-title"><span class="title">More</span> <span class="arrow down"></span></button> <button type="button" aria-label="More" class="mobile-dropdown-title"><span class="title">More</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          devtools
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.npmjs.com/package/@foxitsoftware/gulp-merge-addon" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @foxitsoftware/addon-loader
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.npmjs.com/package/@foxitsoftware/addon-loader" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @foxitsoftware/gulp-merge-addon
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/API_Reference/FoxitPDFSDK_API_Reference.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  API Reference
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/docs/developer-guide/ui-extension/" class="nav-link">
  UIExtension
</a></div><div class="nav-item"><a href="/docs/developer-guide/technical-support/" class="nav-link">
  Technical Support
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="More" class="dropdown-title"><span class="title">More</span> <span class="arrow down"></span></button> <button type="button" aria-label="More" class="mobile-dropdown-title"><span class="title">More</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          devtools
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.npmjs.com/package/@foxitsoftware/gulp-merge-addon" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @foxitsoftware/addon-loader
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.npmjs.com/package/@foxitsoftware/addon-loader" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @foxitsoftware/gulp-merge-addon
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Getting Started</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Examples</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Features</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/developer-guide/main/features/signature.html" class="sidebar-link">Digital Signature</a></li><li><a href="/docs/developer-guide/main/features/import-and-export.html" class="sidebar-link">Import and Export</a></li><li><a href="/docs/developer-guide/main/features/stamp.html" class="sidebar-link">Stamp and Customization</a></li><li><a href="/docs/developer-guide/main/features/read-aloud.html" aria-current="page" class="active sidebar-link">Custom Speech Synthesizer</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/developer-guide/main/features/read-aloud.html#speech-synthesizer-apis" class="sidebar-link">Speech Synthesizer APIs</a></li><li class="sidebar-sub-header"><a href="/docs/developer-guide/main/features/read-aloud.html#customize-pdftexttospeechsynthesis" class="sidebar-link">Customize PDFTextToSpeechSynthesis</a></li><li class="sidebar-sub-header"><a href="/docs/developer-guide/main/features/read-aloud.html#integrating-with-3rd-party-tts-service" class="sidebar-link">Integrating with 3rd Party TTS Service</a></li></ul></li><li><a href="/docs/developer-guide/main/features/snapshot.html" class="sidebar-link">Snapshot tool</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Collaboration</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/docs/developer-guide/main/best-practice.html" class="sidebar-link">Best Practice</a></li><li><a href="/docs/developer-guide/main/i18n-resources.html" class="sidebar-link">I18n Entries Resources Management</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Troubleshooting</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="custom-speech-synthesizer"><a href="#custom-speech-synthesizer" class="header-anchor">#</a> Custom Speech Synthesizer</h1> <p>The speech synthesizer is a text-to-speech service that is used to convert text into sounds that approximate the sound of human speech. It can work with the ReadAoud feature to provide a powerful text-to-speeech function which can read aloud page contents.</p> <p>Depending on the speech technology, the sounds generated may be somewhat stilted and artificial sounding, or sound very much like the voice of a real person.</p> <p>To better demonstrate how you could use different text-to-speech technology with our Foxit PDF SDK for Web, we take browser native <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API" target="_blank" rel="noopener noreferrer">Web Speech API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> as an example in the following section <code>Customize PDFTextToSpeechSynthesis</code>, and use the Google cloud <a href="https://cloud.google.com/text-to-speech/docs/quickstart-client-libraries" target="_blank" rel="noopener noreferrer">text-to-speech API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> in the section of <code>Integrating 3rd Party TTS Service</code>.</p> <h2 id="speech-synthesizer-apis"><a href="#speech-synthesizer-apis" class="header-anchor">#</a> Speech Synthesizer APIs</h2> <h3 id="pdftexttospeechsynthesis-interface-specification"><a href="#pdftexttospeechsynthesis-interface-specification" class="header-anchor">#</a> <code>PDFTextToSpeechSynthesis</code> Interface Specification</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">PDFTextToSpeechSynthesis</span> <span class="token punctuation">{</span>
    status<span class="token operator">:</span> PDFTextToSpeechSynthesisStatus<span class="token punctuation">;</span>
    <span class="token function">supported</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
    <span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
    <span class="token function">resume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
    <span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span><span class="token punctuation">;</span>
    <span class="token function">play</span><span class="token punctuation">(</span>utterances<span class="token operator">:</span> IterableIterator<span class="token operator">&lt;</span><span class="token builtin">Promise</span><span class="token operator">&lt;</span>PDFTextToSpeechUtterance<span class="token operator">&gt;&gt;</span><span class="token punctuation">,</span> options<span class="token operator">?</span><span class="token operator">:</span> ReadAloudOptions<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token function">updateOptions</span><span class="token punctuation">(</span>options<span class="token operator">:</span> Partial<span class="token operator">&lt;</span>ReadAloudOptions<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_1-status-properties"><a href="#_1-status-properties" class="header-anchor">#</a> 1. <code>status</code> Properties</h4> <p>The <code>status</code> enumerates the current reading aloud state.  It can be defined as below:</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">enum</span> PDFTextToSpeechSynthesisStatus <span class="token punctuation">{</span>
    playing<span class="token punctuation">,</span> paused<span class="token punctuation">,</span> stopped<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The default value is <code>stopped</code>.</p> <h4 id="_2-supported-boolean-method"><a href="#_2-supported-boolean-method" class="header-anchor">#</a> 2. <code>supported():boolean</code> Method</h4> <p>This method is used to detect if the <code>PDFTextToSpeechSynthesis</code> is supported in your current client environment. If there is a 3rd party speech service running in the background, you only need to check if <code>HTML&lt;audio&gt;</code> is supported on your client side.</p> <blockquote><p><strong>Note:</strong> The client here could either be a browser, or something others such as Electron, Apache cordova, ect.</p></blockquote> <p><strong>Code Example:</strong></p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">CustomPDFTextToSpeechSynthesis</span> <span class="token punctuation">{</span>
    <span class="token function">supported</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">typeof</span> window<span class="token punctuation">.</span>HTMLAudioElement <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// .... other methods</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_3-pause-resume-and-stop-methods"><a href="#_3-pause-resume-and-stop-methods" class="header-anchor">#</a> 3. <code>pause()</code>,<code>resume</code> and <code>stop()</code> Methods</h4> <p>These methods are used to control the state of reading aloud. Through these methods, the <code>PDFTextToSpeechSynthesis</code> can manage the voice media to pause, resume, stop, and specify the <code>status</code> property.</p> <h4 id="_4-updateoptions-options-partial-readaloudoptions-method"><a href="#_4-updateoptions-options-partial-readaloudoptions-method" class="header-anchor">#</a> 4. <code>updateOptions(options: Partial&lt;ReadAloudOptions&gt;)</code> Method</h4> <p>This method is used to update the <code>PDFTextToSpeechSynthesis</code> in the reading aloud state, such as change the voice volume.</p> <h4 id="_5-play-utterances-iterableiterator-promise-pdftexttospeechutterance-options-readaloudoptions-promise-void-method"><a href="#_5-play-utterances-iterableiterator-promise-pdftexttospeechutterance-options-readaloudoptions-promise-void-method" class="header-anchor">#</a> 5. <code>play(utterances: IterableIterator&lt;Promise&lt;PDFTextToSpeechUtterance&gt;&gt;, options?: ReadAloudOptions): Promise&lt;void&gt;</code> Method</h4> <p><strong>Parameter Description：</strong></p> <ol><li>utterances: This is an IterableIterator that contains the content of the text to be read as well as the page number and coordinate information, which can be used with <code>for...of</code> to iterate.</li> <li>options: This is an optional parameter that contains the speed, pitch, volume of the playback and the 'external' parameter, where 'external' is the parameter object passed to the third party speech synthesizer service.</li></ol> <h2 id="customize-pdftexttospeechsynthesis"><a href="#customize-pdftexttospeechsynthesis" class="header-anchor">#</a> Customize <code>PDFTextToSpeechSynthesis</code></h2> <h3 id="method-1-implement-pdftexttospeechsynthesis-interface"><a href="#method-1-implement-pdftexttospeechsynthesis-interface" class="header-anchor">#</a> Method 1: Implement PDFTextToSpeechSynthesis interface</h3> <blockquote><p><strong>Notice：</strong> This demo only supports in Chrome, Firefox, Chromium Edge.</p></blockquote> <div data-config="%7B%0A%20%20%20%20%22iframeOptions%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%22style%22%3A%20%22height%3A%20500px%22%0A%20%20%20%20%7D%0A%7D%0A" data-type="vanilla" data-code="%3Chtml%3E%0A%3C%2Fhtml%3E%0A%3Cscript%3E%0A%20%20%20%20const%20PDFTextToSpeechSynthesisStatus%20%3D%20UIExtension.PDFViewCtrl.readAloud.PDFTextToSpeechSynthesisStatus%3B%0A%20%20%20%20class%20CustomPDFTextToSpeechSynthesis%20%7B%0A%20%20%20%20%20%20%20%20constructor()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.playingOptions%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.status%20%3D%20PDFTextToSpeechSynthesisStatus.stopped%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20supported()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20typeof%20window.speechSynthesis%20!%3D%3D%20'undefined'%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20pause()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.status%20%3D%20PDFTextToSpeechSynthesisStatus.paused%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20window.speechSynthesis.pause()%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20resume()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.status%20%3D%20PDFTextToSpeechSynthesisStatus.playing%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20window.speechSynthesis.resume()%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20stop()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.status%20%3D%20PDFTextToSpeechSynthesisStatus.stopped%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20window.speechSynthesis.cancel()%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%2F**%0A%20%20%20%20%20%20%20%20%20*%20%40param%20%7BIterableIterator%3CPromise%3CPDFTextToSpeechUtterance%3E%3E%7D%20utterances%20%0A%20%20%20%20%20%20%20%20%20*%20%40param%20%7BReadAloudOptions%7D%20options%20%0A%20%20%20%20%20%20%20%20%20*%0A%20%20%20%20%20%20%20%20%20*%2F%0A%20%20%20%20%20%20%20%20async%20play(utterances%2C%20options)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20await%20(const%20utterance%20of%20utterances)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20nativeSpeechUtterance%20%3D%20new%20window.SpeechSynthesisUtterance(utterance.text)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20%7B%20pitch%2C%20rate%2C%20volume%20%7D%20%3D%20Object.assign(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%2C%20this.playingOptions%2C%20options%20%7C%7C%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if(typeof%20pitch%20%3D%3D%3D%20'number')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nativeSpeechUtterance.pitch%20%3D%20pitch%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if(typeof%20rate%20%3D%3D%3D%20'number')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nativeSpeechUtterance.rate%20%3D%20rate%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if(typeof%20volume%20%3D%3D%3D%20'number')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nativeSpeechUtterance.volume%20%3D%20volume%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20new%20Promise((resolve%2C%20reject)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nativeSpeechUtterance.onend%20%3D%20resolve%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nativeSpeechUtterance.onabort%20%3D%20resolve%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nativeSpeechUtterance.onerror%20%3D%20reject%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speechSynthesis.speak(nativeSpeechUtterance)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20updateOptions(options)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20Object.assign(this.playingOptions%2C%20options)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20var%20libPath%20%3D%20window.top.location.origin%20%2B%20'%2Flib'%3B%0A%20%20%20%20var%20pdfui%20%3D%20new%20UIExtension.PDFUI(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20viewerOptions%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20libPath%3A%20libPath%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20jr%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20licenseSN%3A%20licenseSN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20licenseKey%3A%20licenseKey%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20renderTo%3A%20document.body%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20appearance%3A%20UIExtension.appearances.ribbon%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20addons%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20libPath%20%2B%20'%2Fuix-addons%2Fread-aloud'%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%7D)%3B%0A%20%20%20%20pdfui.getReadAloudService().then(function(service)%20%7B%0A%20%20%20%20%20%20%20%20service.setSpeechSynthesis(new%20CustomPDFTextToSpeechSynthesis())%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20%0A%3C%2Fscript%3E%0A" class="vuepress-plugin-demo-block__wrapper" style="display:none;"><div class="vuepress-plugin-demo-block__display"><div class="vuepress-plugin-demo-block__app"></div></div> <div class="vuepress-plugin-demo-block__code"><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">const</span> PDFTextToSpeechSynthesisStatus <span class="token operator">=</span> UIExtension<span class="token punctuation">.</span>PDFViewCtrl<span class="token punctuation">.</span>readAloud<span class="token punctuation">.</span>PDFTextToSpeechSynthesisStatus<span class="token punctuation">;</span>
    <span class="token keyword">class</span> <span class="token class-name">CustomPDFTextToSpeechSynthesis</span> <span class="token punctuation">{</span>
        <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>playingOptions <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> PDFTextToSpeechSynthesisStatus<span class="token punctuation">.</span>stopped<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">supported</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">typeof</span> window<span class="token punctuation">.</span>speechSynthesis <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> PDFTextToSpeechSynthesisStatus<span class="token punctuation">.</span>paused<span class="token punctuation">;</span>
            window<span class="token punctuation">.</span>speechSynthesis<span class="token punctuation">.</span><span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">resume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> PDFTextToSpeechSynthesisStatus<span class="token punctuation">.</span>playing<span class="token punctuation">;</span>
            window<span class="token punctuation">.</span>speechSynthesis<span class="token punctuation">.</span><span class="token function">resume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> PDFTextToSpeechSynthesisStatus<span class="token punctuation">.</span>stopped<span class="token punctuation">;</span>
            window<span class="token punctuation">.</span>speechSynthesis<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">/**
         * @param {IterableIterator&lt;Promise&lt;PDFTextToSpeechUtterance&gt;&gt;} utterances 
         * @param {ReadAloudOptions} options 
         *
         */</span>
        <span class="token keyword">async</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token parameter">utterances<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">const</span> utterance <span class="token keyword">of</span> utterances<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">const</span> nativeSpeechUtterance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">window<span class="token punctuation">.</span>SpeechSynthesisUtterance</span><span class="token punctuation">(</span>utterance<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">const</span> <span class="token punctuation">{</span> pitch<span class="token punctuation">,</span> rate<span class="token punctuation">,</span> volume <span class="token punctuation">}</span> <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>
                    <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>playingOptions<span class="token punctuation">,</span> options <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
                <span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> pitch <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    nativeSpeechUtterance<span class="token punctuation">.</span>pitch <span class="token operator">=</span> pitch<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> rate <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    nativeSpeechUtterance<span class="token punctuation">.</span>rate <span class="token operator">=</span> rate<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> volume <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    nativeSpeechUtterance<span class="token punctuation">.</span>volume <span class="token operator">=</span> volume<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">await</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    nativeSpeechUtterance<span class="token punctuation">.</span>onend <span class="token operator">=</span> resolve<span class="token punctuation">;</span>
                    nativeSpeechUtterance<span class="token punctuation">.</span>onabort <span class="token operator">=</span> resolve<span class="token punctuation">;</span>
                    nativeSpeechUtterance<span class="token punctuation">.</span>onerror <span class="token operator">=</span> reject<span class="token punctuation">;</span>
                    speechSynthesis<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span>nativeSpeechUtterance<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token function">updateOptions</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>playingOptions<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> libPath <span class="token operator">=</span> window<span class="token punctuation">.</span>top<span class="token punctuation">.</span>location<span class="token punctuation">.</span>origin <span class="token operator">+</span> <span class="token string">'/lib'</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> pdfui <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UIExtension<span class="token punctuation">.</span>PDFUI</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            viewerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                libPath<span class="token operator">:</span> libPath<span class="token punctuation">,</span>
                jr<span class="token operator">:</span> <span class="token punctuation">{</span>
                    licenseSN<span class="token operator">:</span> licenseSN<span class="token punctuation">,</span>
                    licenseKey<span class="token operator">:</span> licenseKey
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            renderTo<span class="token operator">:</span> document<span class="token punctuation">.</span>body<span class="token punctuation">,</span>
            appearance<span class="token operator">:</span> UIExtension<span class="token punctuation">.</span>appearances<span class="token punctuation">.</span>ribbon<span class="token punctuation">,</span>
            addons<span class="token operator">:</span> <span class="token punctuation">[</span>
                libPath <span class="token operator">+</span> <span class="token string">'/uix-addons/read-aloud'</span>
            <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    pdfui<span class="token punctuation">.</span><span class="token function">getReadAloudService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">service</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        service<span class="token punctuation">.</span><span class="token function">setSpeechSynthesis</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CustomPDFTextToSpeechSynthesis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;iframeOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;style&quot;</span><span class="token operator">:</span> <span class="token string">&quot;height: 500px&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <div class="vuepress-plugin-demo-block__footer"></div></div> <h3 id="method-2-using-abstractpdftexttospeechsynthesis-to-customize-the-speech-sythesizer"><a href="#method-2-using-abstractpdftexttospeechsynthesis-to-customize-the-speech-sythesizer" class="header-anchor">#</a> Method 2：Using <code>AbstractPDFTextToSpeechSynthesis</code> to customize the speech sythesizer</h3> <div data-config="%7B%0A%20%20%20%20%22iframeOptions%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%22style%22%3A%20%22height%3A%20500px%22%0A%20%20%20%20%7D%0A%7D%0A" data-type="vanilla" data-code="%3Chtml%3E%0A%3C%2Fhtml%3E%0A%3Cscript%3E%0A%20%20%20%20const%20PDFTextToSpeechSynthesisStatus%20%3D%20UIExtension.PDFViewCtrl.readAloud.PDFTextToSpeechSynthesisStatus%3B%0A%20%20%20%20const%20AbstractPDFTextToSpeechSynthesis%20%3D%20UIExtension.PDFViewCtrl.readAloud.AbstractPDFTextToSpeechSynthesis%3B%0A%20%20%20%20const%20CustomPDFTextToSpeechSynthesis%20%3D%20AbstractPDFTextToSpeechSynthesis.extend(%7B%0A%20%20%20%20%20%20%20%20init()%7B%7D%2C%0A%20%20%20%20%20%20%20%20supported()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20typeof%20window.speechSynthesis%20!%3D%3D%20'undefined'%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20doPause()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20window.speechSynthesis.pause()%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20doResume()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20window.speechSynthesis.resume()%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20doStop()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20window.speechSynthesis.cancel()%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%2F**%0A%20%20%20%20%20%20%20%20%20*%20%40param%20%7Bstring%7D%20text%0A%20%20%20%20%20%20%20%20%20*%20%40param%20%7BReadAloudOptions%20%7C%20undefined%7D%20options%0A%20%20%20%20%20%20%20%20%20*%2F%0A%20%20%20%20%20%20%20%20async%20speakText(text%2C%20options)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20nativeSpeechUtterance%20%3D%20new%20window.SpeechSynthesisUtterance(utterance.text)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20%7B%20pitch%2C%20rate%2C%20volume%20%7D%20%3D%20Object.assign(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%2C%20this.playingOptions%2C%20options%20%7C%7C%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if(typeof%20pitch%20%3D%3D%3D%20'number')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nativeSpeechUtterance.pitch%20%3D%20pitch%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if(typeof%20rate%20%3D%3D%3D%20'number')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nativeSpeechUtterance.rate%20%3D%20rate%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if(typeof%20volume%20%3D%3D%3D%20'number')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nativeSpeechUtterance.volume%20%3D%20volume%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20await%20new%20Promise((resolve%2C%20reject)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nativeSpeechUtterance.onend%20%3D%20resolve%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nativeSpeechUtterance.onabort%20%3D%20resolve%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nativeSpeechUtterance.onerror%20%3D%20reject%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speechSynthesis.speak(nativeSpeechUtterance)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)%0A%20%20%20%20const%20libPath%20%3D%20window.top.location.origin%20%2B%20'%2Flib'%3B%0A%20%20%20%20const%20pdfui%20%3D%20new%20UIExtension.PDFUI(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20viewerOptions%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20libPath%3A%20libPath%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20jr%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20licenseSN%3A%20licenseSN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20licenseKey%3A%20licenseKey%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20renderTo%3A%20document.body%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20appearance%3A%20UIExtension.appearances.ribbon%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20addons%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20libPath%20%2B%20'%2Fuix-addons%2Fread-aloud'%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%7D)%3B%0A%20%20%20%20pdfui.getReadAloudService().then(function(service)%20%7B%0A%20%20%20%20%20%20%20%20service.setSpeechSynthesis(new%20CustomPDFTextToSpeechSynthesis())%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20%0A%3C%2Fscript%3E%0A" class="vuepress-plugin-demo-block__wrapper" style="display:none;"><div class="vuepress-plugin-demo-block__display"><div class="vuepress-plugin-demo-block__app"></div></div> <div class="vuepress-plugin-demo-block__code"><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">const</span> PDFTextToSpeechSynthesisStatus <span class="token operator">=</span> UIExtension<span class="token punctuation">.</span>PDFViewCtrl<span class="token punctuation">.</span>readAloud<span class="token punctuation">.</span>PDFTextToSpeechSynthesisStatus<span class="token punctuation">;</span>
    <span class="token keyword">const</span> AbstractPDFTextToSpeechSynthesis <span class="token operator">=</span> UIExtension<span class="token punctuation">.</span>PDFViewCtrl<span class="token punctuation">.</span>readAloud<span class="token punctuation">.</span>AbstractPDFTextToSpeechSynthesis<span class="token punctuation">;</span>
    <span class="token keyword">const</span> CustomPDFTextToSpeechSynthesis <span class="token operator">=</span> AbstractPDFTextToSpeechSynthesis<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">supported</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">typeof</span> window<span class="token punctuation">.</span>speechSynthesis <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">doPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            window<span class="token punctuation">.</span>speechSynthesis<span class="token punctuation">.</span><span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">doResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            window<span class="token punctuation">.</span>speechSynthesis<span class="token punctuation">.</span><span class="token function">resume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">doStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            window<span class="token punctuation">.</span>speechSynthesis<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">/**
         * @param {string} text
         * @param {ReadAloudOptions | undefined} options
         */</span>
        <span class="token keyword">async</span> <span class="token function">speakText</span><span class="token punctuation">(</span><span class="token parameter">text<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> nativeSpeechUtterance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">window<span class="token punctuation">.</span>SpeechSynthesisUtterance</span><span class="token punctuation">(</span>utterance<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">const</span> <span class="token punctuation">{</span> pitch<span class="token punctuation">,</span> rate<span class="token punctuation">,</span> volume <span class="token punctuation">}</span> <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>
                <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>playingOptions<span class="token punctuation">,</span> options <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> pitch <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                nativeSpeechUtterance<span class="token punctuation">.</span>pitch <span class="token operator">=</span> pitch<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> rate <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                nativeSpeechUtterance<span class="token punctuation">.</span>rate <span class="token operator">=</span> rate<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> volume <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                nativeSpeechUtterance<span class="token punctuation">.</span>volume <span class="token operator">=</span> volume<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">await</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                nativeSpeechUtterance<span class="token punctuation">.</span>onend <span class="token operator">=</span> resolve<span class="token punctuation">;</span>
                nativeSpeechUtterance<span class="token punctuation">.</span>onabort <span class="token operator">=</span> resolve<span class="token punctuation">;</span>
                nativeSpeechUtterance<span class="token punctuation">.</span>onerror <span class="token operator">=</span> reject<span class="token punctuation">;</span>
                speechSynthesis<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span>nativeSpeechUtterance<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> libPath <span class="token operator">=</span> window<span class="token punctuation">.</span>top<span class="token punctuation">.</span>location<span class="token punctuation">.</span>origin <span class="token operator">+</span> <span class="token string">'/lib'</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> pdfui <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UIExtension<span class="token punctuation">.</span>PDFUI</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            viewerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                libPath<span class="token operator">:</span> libPath<span class="token punctuation">,</span>
                jr<span class="token operator">:</span> <span class="token punctuation">{</span>
                    licenseSN<span class="token operator">:</span> licenseSN<span class="token punctuation">,</span>
                    licenseKey<span class="token operator">:</span> licenseKey
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            renderTo<span class="token operator">:</span> document<span class="token punctuation">.</span>body<span class="token punctuation">,</span>
            appearance<span class="token operator">:</span> UIExtension<span class="token punctuation">.</span>appearances<span class="token punctuation">.</span>ribbon<span class="token punctuation">,</span>
            addons<span class="token operator">:</span> <span class="token punctuation">[</span>
                libPath <span class="token operator">+</span> <span class="token string">'/uix-addons/read-aloud'</span>
            <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    pdfui<span class="token punctuation">.</span><span class="token function">getReadAloudService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">service</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        service<span class="token punctuation">.</span><span class="token function">setSpeechSynthesis</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CustomPDFTextToSpeechSynthesis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;iframeOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;style&quot;</span><span class="token operator">:</span> <span class="token string">&quot;height: 500px&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <div class="vuepress-plugin-demo-block__footer"></div></div> <h3 id="the-difference-of-pdftexttospeechsynthesis-and-abstractpdftexttospeechsynthesis"><a href="#the-difference-of-pdftexttospeechsynthesis-and-abstractpdftexttospeechsynthesis" class="header-anchor">#</a> The Difference of <code>PDFTextToSpeechSynthesis</code> and <code>AbstractPDFTextToSpeechSynthesis</code></h3> <p>The Method 1 customizes speech synthesizer by implementing the interface <code>PDFTextToSpeechSynthesis</code>. It needs to manually manage state changes as well as iterate the list of 'utterances' by <code>for await...of</code>. Each item in the 'Utterance' list is a text block obtained from PDFPage. In some cases, the text block may just contain a part of a word or sentence, which requires merging text blocks to build up a complete word and sentence for better speech synthesizing. This merging operation can be completed in the <code>play()</code> method.</p> <p>The Method 2 customizes speech synthesizer by inheriting the <code>AbstractPDFTextToSpeechSynthesis</code> abstract class. It doesn't require to manually manage state and iterate utterances list, but needs correctly call <code>window.SpeechSynthesisUtterance</code> to generate speech and play the voice based on the received text and parameters. These received text blocks will be automatically merged by <code>AbstractPDFTextToSpeechSynthesis</code>. However currently it is tough to guarantee that all the combined text blocks in different language environments would comprise complete words or sentences, as such if you are strict with reading correctness with each sentence and word, you are recommended to use <em>Method 1</em>.</p> <h2 id="integrating-with-3rd-party-tts-service"><a href="#integrating-with-3rd-party-tts-service" class="header-anchor">#</a> Integrating with 3rd Party TTS Service</h2> <p>We take <a href="https://cloud.google.com/text-to-speech/docs/quickstart-client-libraries" target="_blank" rel="noopener noreferrer">@google-cloud/text-to-speech<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> as an example in this section.</p> <h3 id="server"><a href="#server" class="header-anchor">#</a> Server</h3> <p>To start with Google Cloud Text-to-Speech server library with favorite programming language, refer to
<a href="https://cloud.google.com/text-to-speech/docs/quickstarts" target="_blank" rel="noopener noreferrer">https://cloud.google.com/text-to-speech/docs/quickstarts<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h3 id="client"><a href="#client" class="header-anchor">#</a> Client</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> readAloud <span class="token operator">=</span> UIExtension<span class="token punctuation">.</span>PDFViewCtrl<span class="token punctuation">.</span>readAloud<span class="token punctuation">;</span>
<span class="token keyword">var</span> PDFTextToSpeechSynthesisStatus <span class="token operator">=</span> readAloud<span class="token punctuation">.</span>PDFTextToSpeechSynthesisStatus<span class="token punctuation">;</span>
<span class="token keyword">var</span> AbstractPDFTextToSpeechSynthesis <span class="token operator">=</span> readAloud<span class="token punctuation">.</span>AbstractPDFTextToSpeechSynthesis<span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token constant">SPEECH_SYNTHESIS_URL</span> <span class="token operator">=</span> <span class="token string">'&lt;server url&gt;'</span><span class="token punctuation">;</span> <span class="token comment">// the server API address</span>

<span class="token keyword">var</span> ThirdpartyPDFTextToSpeechSynthesis <span class="token operator">=</span> AbstractPDFTextToSpeechSynthesis<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">init</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>audioElement <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">supported</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">typeof</span> window<span class="token punctuation">.</span>HTMLAudioElement <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">&amp;&amp;</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'audio'</span><span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">window<span class="token punctuation">.</span>HTMLAudioElement</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">doPause</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>audioElement<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>audioElement<span class="token punctuation">.</span><span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">doStop</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>audioElement<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>audioElement<span class="token punctuation">.</span><span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>audioElement<span class="token punctuation">.</span>currentTime <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>audioElement <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">doResume</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>audioElement<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>audioElement<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">onCurrentPlayingOptionsUpdated</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>audioElement<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">var</span> options <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentPlayingOptions<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">===</span> PDFTextToSpeechSynthesisStatus<span class="token punctuation">.</span>playing<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>volume <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span>volume <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>audioElement<span class="token punctuation">.</span>volume <span class="token operator">=</span> options<span class="token punctuation">.</span>volume<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">speakText</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">text<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> audioElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'audio'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>audioElement <span class="token operator">=</span> audioElement<span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>volume <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span>volume <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            audioElement<span class="token punctuation">.</span>volume <span class="token operator">=</span> options<span class="token punctuation">.</span>volume<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">speechSynthesis</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">src</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                audioElement<span class="token punctuation">.</span>src <span class="token operator">=</span> src<span class="token punctuation">;</span>
                audioElement<span class="token punctuation">.</span><span class="token function-variable function">onended</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">;</span>
                audioElement<span class="token punctuation">.</span><span class="token function-variable function">onabort</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">;</span>
                audioElement<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token function">reject</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">;</span>
                audioElement<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">revokeObjectURL</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// If the server API request method or parameter form is not consistent with the following implementation, it will need to be adjusted accordingly.</span>
    <span class="token function-variable function">speechSynthesis</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">text<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token constant">SPEECH_SYNTHESIS_URL</span> <span class="token operator">+</span> <span class="token string">'?'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">buildURIQueries</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>status <span class="token operator">&gt;=</span> <span class="token number">400</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">json</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">.</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">blob</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">blob</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>blob<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">buildURIQueries</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">text<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> queries <span class="token operator">=</span> <span class="token punctuation">[</span>
            <span class="token string">'text='</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
        <span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> queries<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'&amp;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> options<span class="token punctuation">.</span>rate <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            queries<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> <span class="token string">'rate='</span> <span class="token operator">+</span> options<span class="token punctuation">.</span>rate <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> options<span class="token punctuation">.</span>spitch <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            queries<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'spitch='</span> <span class="token operator">+</span> options<span class="token punctuation">.</span>spitch<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> options<span class="token punctuation">.</span>lang <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            queries<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'lang='</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>lang<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> options<span class="token punctuation">.</span>voice <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            queries<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'voice='</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>voice<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> options<span class="token punctuation">.</span>external <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            queries<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'external='</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>external<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> queries<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'&amp;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="using-the-custom-speech-synthesizer"><a href="#using-the-custom-speech-synthesizer" class="header-anchor">#</a> Using the custom speech synthesizer：</h3> <div class="language-js extra-class"><pre class="language-js"><code>pdfui<span class="token punctuation">.</span><span class="token function">getReadAloudService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">service</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    serivce<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ThirdpartyPDFTextToSpeechSynthesis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/developer-guide/main/features/stamp.html" class="prev">
        Stamp and Customization
      </a></span> <span class="next"><a href="/docs/developer-guide/main/features/snapshot.html">
        Snapshot tool
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/docs/developer-guide/assets/js/app.e7182497.js" defer></script><script src="/docs/developer-guide/assets/js/2.14e0b4fd.js" defer></script><script src="/docs/developer-guide/assets/js/24.bf6a54c3.js" defer></script>
  </body>
</html>
