<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FoxitPDFSDKforWeb: WebSocketCommunicator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="favicon.ico"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FoxitPDFSDKforWeb
   &#160;<span id="projectnumber">8.4.0</span>
   </div>
   <div id="projectbrief">Foxit PDF SDK for Web</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_web_socket_communicator.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_web_socket_communicator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">WebSocketCommunicator Class Reference<div class="ingroups"><a class="el" href="group___viewer.html">PDFViewCtrl</a> &raquo; <a class="el" href="group__collab.html">collab</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Collaboration implementation based on native WebSocket API. For compatibility information, please refer to this link: <a href="https://caniuse.com/mdn-api_websocket" class="el vel" target="about:blank">Can i use websocket</a>  
 <a href="class_web_socket_communicator.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for WebSocketCommunicator:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_web_socket_communicator.png" usemap="#WebSocketCommunicator_map" alt=""/>
  <map id="WebSocketCommunicator_map" name="WebSocketCommunicator_map">
<area href="class_collaboration_communicator.html" title="An interface defines several methods that user should follow to implement custom CollaborationCommuni..." alt="CollaborationCommunicator" shape="rect" coords="0,0,167,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8fc3b74cf485e6ae18faa64b75f40c77"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_web_socket_communicator.html#a8fc3b74cf485e6ae18faa64b75f40c77">connect</a> (shareId:string)</td></tr>
<tr class="memdesc:a8fc3b74cf485e6ae18faa64b75f40c77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect to the collabroation server with a specified shareId.  <a href="#a8fc3b74cf485e6ae18faa64b75f40c77">More...</a><br /></td></tr>
<tr class="separator:a8fc3b74cf485e6ae18faa64b75f40c77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e3f4b4a5b4f9c74b6812367e1a94d9e"><td class="memItemLeft" align="right" valign="top"><a id="a9e3f4b4a5b4f9c74b6812367e1a94d9e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_web_socket_communicator.html#a9e3f4b4a5b4f9c74b6812367e1a94d9e">disconnect</a> ()</td></tr>
<tr class="memdesc:a9e3f4b4a5b4f9c74b6812367e1a94d9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnect the collaboration communicator from server. <br /></td></tr>
<tr class="separator:a9e3f4b4a5b4f9c74b6812367e1a94d9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72c31a43ab9139972b5904f1181eb580"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_web_socket_communicator.html#a72c31a43ab9139972b5904f1181eb580">getLostData</a> (shareId:string, fromVersion:number)</td></tr>
<tr class="memdesc:a72c31a43ab9139972b5904f1181eb580"><td class="mdescLeft">&#160;</td><td class="mdescRight">If a client is disconnected from the server for a period of time, it is very likely that the data will be out of sync. This is where the data needs to be synchronized from the server. The server should store all the data and identify it with a digital version number, which should start at 0 and add 1 for each collaborative data generated by the user.  <a href="#a72c31a43ab9139972b5904f1181eb580">More...</a><br /></td></tr>
<tr class="separator:a72c31a43ab9139972b5904f1181eb580"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab69b2d04600fdb49049ba24ba677810c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_web_socket_communicator.html#ab69b2d04600fdb49049ba24ba677810c">getSessionInfo</a> (shareId)</td></tr>
<tr class="memdesc:ab69b2d04600fdb49049ba24ba677810c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains current session info by share id.  <a href="#ab69b2d04600fdb49049ba24ba677810c">More...</a><br /></td></tr>
<tr class="separator:ab69b2d04600fdb49049ba24ba677810c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a882daf2f5bf8a6c872df4798624172fd"><td class="memItemLeft" align="right" valign="top"><a id="a882daf2f5bf8a6c872df4798624172fd"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_web_socket_communicator.html#a882daf2f5bf8a6c872df4798624172fd">isConnected</a> ()</td></tr>
<tr class="memdesc:a882daf2f5bf8a6c872df4798624172fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">detect the communicator is or not connected to server. If the communicator is lost connection. It automatically reconnects until the connection is confirmed multiple times and fails. <br /></td></tr>
<tr class="separator:a882daf2f5bf8a6c872df4798624172fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35d0c1c9741b605cefa3330d433e4a85"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_web_socket_communicator.html#a35d0c1c9741b605cefa3330d433e4a85">send</a> (shareId:string, data:string)</td></tr>
<tr class="memdesc:a35d0c1c9741b605cefa3330d433e4a85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends the collaboration data to server, and then transmit the data to other clients.  <a href="#a35d0c1c9741b605cefa3330d433e4a85">More...</a><br /></td></tr>
<tr class="separator:a35d0c1c9741b605cefa3330d433e4a85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_collaboration_communicator"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_collaboration_communicator')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_collaboration_communicator.html">CollaborationCommunicator</a></td></tr>
<tr class="memitem:aad4c3ae4d04d857b1bafda1566ffa96e inherit pub_methods_class_collaboration_communicator"><td class="memItemLeft" align="right" valign="top">Promise&lt; string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_collaboration_communicator.html#aad4c3ae4d04d857b1bafda1566ffa96e">createSession</a> (doc:PDFDoc)</td></tr>
<tr class="memdesc:aad4c3ae4d04d857b1bafda1566ffa96e inherit pub_methods_class_collaboration_communicator"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an collaboration session and returns a unique shareId. Collaboration sessions always be created when open a new PDF file and be closed after PDF file closed or the browser closed. In the server side, a session holds many client connections and collaboration data, the server should allow all clients to reuse the shareId, once all connections of the session are losted, collaboration data should be clear in the server.  <a href="class_collaboration_communicator.html#aad4c3ae4d04d857b1bafda1566ffa96e">More...</a><br /></td></tr>
<tr class="separator:aad4c3ae4d04d857b1bafda1566ffa96e inherit pub_methods_class_collaboration_communicator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b06982283a4ad95e15813b15961e9db inherit pub_methods_class_collaboration_communicator"><td class="memItemLeft" align="right" valign="top"><a id="a9b06982283a4ad95e15813b15961e9db"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_collaboration_communicator.html#a9b06982283a4ad95e15813b15961e9db">destroy</a> ()</td></tr>
<tr class="memdesc:a9b06982283a4ad95e15813b15961e9db inherit pub_methods_class_collaboration_communicator"><td class="mdescLeft">&#160;</td><td class="mdescRight">destroy the communicator. <br /></td></tr>
<tr class="separator:a9b06982283a4ad95e15813b15961e9db inherit pub_methods_class_collaboration_communicator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56237119c90667f75a626beec152d154 inherit pub_methods_class_collaboration_communicator"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_collaboration_communicator.html#a56237119c90667f75a626beec152d154">registerLostConnectionListener</a> (callback:()=&gt; void)</td></tr>
<tr class="memdesc:a56237119c90667f75a626beec152d154 inherit pub_methods_class_collaboration_communicator"><td class="mdescLeft">&#160;</td><td class="mdescRight">register a callback that used to receive and sync data from server. This method will be called only once.  <a href="class_collaboration_communicator.html#a56237119c90667f75a626beec152d154">More...</a><br /></td></tr>
<tr class="separator:a56237119c90667f75a626beec152d154 inherit pub_methods_class_collaboration_communicator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98248f3da42efa31c1d10a86fb607ad5 inherit pub_methods_class_collaboration_communicator"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_collaboration_communicator.html#a98248f3da42efa31c1d10a86fb607ad5">registerMessageReceiver</a> (receiver:(data:string)=&gt; void)</td></tr>
<tr class="memdesc:a98248f3da42efa31c1d10a86fb607ad5 inherit pub_methods_class_collaboration_communicator"><td class="mdescLeft">&#160;</td><td class="mdescRight">register a callback that used receive message from server . This method will be called only once.  <a href="class_collaboration_communicator.html#a98248f3da42efa31c1d10a86fb607ad5">More...</a><br /></td></tr>
<tr class="separator:a98248f3da42efa31c1d10a86fb607ad5 inherit pub_methods_class_collaboration_communicator"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Collaboration implementation based on native WebSocket API. For compatibility information, please refer to this link: <a href="https://caniuse.com/mdn-api_websocket" class="el vel" target="about:blank">Can i use websocket</a> </p>
<dl class="section since"><dt>Since</dt><dd>7.6.0 </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a8fc3b74cf485e6ae18faa64b75f40c77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fc3b74cf485e6ae18faa64b75f40c77">&#9670;&nbsp;</a></span>connect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">WebSocketCommunicator::connect </td>
          <td>(</td>
          <td class="paramtype">shareId:string&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Connect to the collabroation server with a specified shareId. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">shareId</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="class_collaboration_communicator.html#ad25f9f8f6d809678bb6d3fc714f6005c">CollaborationCommunicator</a>.</p>

</div>
</div>
<a id="a72c31a43ab9139972b5904f1181eb580"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72c31a43ab9139972b5904f1181eb580">&#9670;&nbsp;</a></span>getLostData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">WebSocketCommunicator::getLostData </td>
          <td>(</td>
          <td class="paramtype">shareId:string&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fromVersion:number&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If a client is disconnected from the server for a period of time, it is very likely that the data will be out of sync. This is where the data needs to be synchronized from the server. The server should store all the data and identify it with a digital version number, which should start at 0 and add 1 for each collaborative data generated by the user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">shareId</td><td></td></tr>
    <tr><td class="paramname">fromVersion</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="class_collaboration_communicator.html#aefce0eb7cf0328943d4057f79ecc508f">CollaborationCommunicator</a>.</p>

</div>
</div>
<a id="ab69b2d04600fdb49049ba24ba677810c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab69b2d04600fdb49049ba24ba677810c">&#9670;&nbsp;</a></span>getSessionInfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">WebSocketCommunicator::getSessionInfo </td>
          <td>(</td>
          <td class="paramtype">shareId&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Obtains current session info by share id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">shareId</td><td>string Target share id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Promise&lt;<a class="el" href="class_collaboration_session_info.html" title="An interface defines the session info including shareId and the parameters to open PDF file...">CollaborationSessionInfo</a> | undefined&gt; Returns the session info inluding shareId and current openning file options. </dd></dl>

<p>Implements <a class="el" href="class_collaboration_communicator.html#a7b215d5066fb5c0ed9090a44e35785ea">CollaborationCommunicator</a>.</p>

</div>
</div>
<a id="a35d0c1c9741b605cefa3330d433e4a85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35d0c1c9741b605cefa3330d433e4a85">&#9670;&nbsp;</a></span>send()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">WebSocketCommunicator::send </td>
          <td>(</td>
          <td class="paramtype">shareId:string&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">data:string&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sends the collaboration data to server, and then transmit the data to other clients. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">shareId</td><td>current session id. </td></tr>
    <tr><td class="paramname">data</td><td>collabroation data(a valid JSON format) </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="class_collaboration_communicator.html#afb70ce6890c7b61f981d4a8cac6b7e83">CollaborationCommunicator</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<html>
<body>
<hr class="footer" id="nav-path"/>
<p align="right">
	<center>
	<img class="footer" src="logo.png" alt="Foxit Software Corporation Logo"/>
	</center>
	<center>
	@2022 Foxit Software Incorporated. All rights reserved.
	</center>
</p>
<style>
	.server-only-jr {
		display:inline;
	}
	.server-only-sr,
	.not-support-in-server,
	.support-in-server {
		display: none;
	}
	a.vel:after {
		content: ' ';
		background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkNhcGFfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgdmlld0JveD0iMCAwIDI4My45MjIgMjgzLjkyMiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjgzLjkyMiAyODMuOTIyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnPgoJPHBhdGggZD0iTTI2Ni40MjIsMGgtOTcuNjI1Yy05LjY1LDAtMTcuNSw3Ljg1MS0xNy41LDE3LjVjMCw5LjY0OSw3Ljg1LDE3LjUsMTcuNSwxNy41aDU1LjM3N2wtOTIuMzc1LDkyLjM3NAoJCWMtMy4zMDcsMy4zMDUtNS4xMjcsNy42OTktNS4xMjcsMTIuMzc1YzAsNC42NzYsMS44MTksOS4wNjksNS4xMjUsMTIuMzcxYzMuMzA2LDMuMzA5LDcuNjk5LDUuMTMsMTIuMzc1LDUuMTMKCQljNC42NzQsMCw5LjA2OS0xLjgyLDEyLjM3Ni01LjEyN2w5Mi4zNzQtOTIuMzc1djU1LjM3N2MwLDkuNjQ5LDcuODUxLDE3LjUsMTcuNSwxNy41YzkuNjQ5LDAsMTcuNS03Ljg1MSwxNy41LTE3LjVWMTcuNQoJCUMyODMuOTIyLDcuODUxLDI3Ni4wNzEsMCwyNjYuNDIyLDB6IiBmaWxsPSIjM0Q1NzhDIi8+Cgk8cGF0aCBkPSJNMjAxLjEzNywyNTMuOTIySDMwVjgyLjc4NWgxMjguNzExbDMwLTMwSDE1Yy04LjI4NCwwLTE1LDYuNzE2LTE1LDE1djIwMS4xMzdjMCw4LjI4NCw2LjcxNiwxNSwxNSwxNWgyMDEuMTM3CgkJYzguMjg0LDAsMTUtNi43MTYsMTUtMTVWOTUuMjExbC0zMCwzMFYyNTMuOTIyeiIgIGZpbGw9IiMzRDU3OEMiLz4KPC9nPgo8L3N2Zz4K);
		display: inline-block;
		width: 12px;
		height: 12px;
		line-height: 0;
		vertical-align: baseline;
		margin: 0 2px;
		background-repeat: no-repeat;
		background-position: center;
	}
</style>
<script>
var _host = location.host;
if (_host.indexOf('webviewer-demo.foxitsoftware') !== -1 || _host.indexOf('10.103.4.217:9999') !== -1) {
	var _eProjectNumber = document.getElementById('projectnumber');
	if (_eProjectNumber) {
		_eProjectNumber.style.display = 'none';
	}
}
var _eSRStyle;
function createSRStyle () {
	if (_eSRStyle) {
		return;
	}
	var eStyle = document.createElement('style');
	eStyle.innerHTML = '.server-only-jr{display:none;} .server-only-sr,.not-support-in-server,.support-in-server{display:inline;} ';
	document.body.appendChild(eStyle);
	_eStyle = eStyle;
}
function removeSRStyle () {
	try{
	document.body.removeChild(_eSRStyle);
	_eSRStyle = null;
	}catch(ex){}
}
function hasSRhash () {
	var _hash = location.hash.slice(1);
	if (_hash.indexOf('SR=true') !== -1) {
		return true;
	}
	return false;
}
if (hasSRhash()) {
	createSRStyle();
}
window.onhashchange = function () {
	if (hasSRhash()) {
    	createSRStyle();
    } else {
    	removeSRStyle();
    }
}
</script>
</BODY></HTML>